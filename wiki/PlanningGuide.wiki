#summary Planning Guide

|| *Single RHQ agent monitoring multiple !WebSphere instances* || *RHQ agents colocated with !WebSphere instances* ||
|| Each instance of the RHQ !WebSphere plug-in uses a single deployment manager connection, even if it connects to multiple application servers in a !WebSphere cell. It also uses a per-cell cache to store the configuration information retrieved from the deployment manager. This reduces the number of queries sent to the deployment manager. However, this only works if cell names are unique. Therefore this topology should not be used when connecting to !WebSphere instances that are part of different cells that are configured with the same cell name. || Each instance of the RHQ !WebSphere plug-in will query the deployment manager separately and maintain its own cache containing the configuration information. On the other hand, this setup poses less problems if cell names are not unique. Note however that the triplet (cell name, node name, server name) must always be unique since it is used as resource key. If you have multiple identical copies (with the same cell names) of the same !WebSphere topology (e.g. for pre-production and production environments), then they need to be monitored by different RHQ installations. ||
|| The RHQ !WebSphere plug-in connects to the deployment managers of every monitored !WebSphere instance. It may also connect to DB2 if it finds corresponding data sources in the !WebSphere configuration. This needs to be taken into account carefully if the network environment is very restrictive because it may require to open additional ports in the firewalls. || The !WebSphere plug-in will still connect to deployment managers and DB2 instances, but it will connect to the same ports as the !WebSphere instances being monitored. Since the source IP is the same, this means that no additional firewall rules need to be defined (except of course for the communication between the RHQ agent and the RHQ server). ||